import {Transformer} from '@parcel/plugin';
import {message} from './constants.js';

export default new Transformer({
  transform({asset}) {
    if (asset.isSource) {
      asset.addDependency({
        specifier: 'foo',
        specifierType: 'esm'
      });
      return [asset];
    }

    return [
      {
        type: 'js',
        content: message,
      },
    ];
  }
});
